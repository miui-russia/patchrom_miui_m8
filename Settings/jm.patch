From b09c78e1a9602a29697cc7783b388cab7e4bbde5 Mon Sep 17 00:00:00 2001
From: wonitor <wonitor@qq.com>
Date: Sat, 3 Oct 2015 22:38:11 +0800
Subject: [PATCH 2/2] 2

---
 Settings/smali/com/android/settings/Application.smali |   18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

--- a/Settings/smali/com/android/settings/Application.smali
+++ b/Settings/smali/com/android/settings/Application.smali
@@ -5,11 +5,27 @@
 
 # direct methods
 .method public constructor <init>()V
-    .locals 0
+    .locals 2
 
     .prologue
+    const-string v0, "ro.product.mod_device"
+
+    invoke-static {v0}, Landroid/os/SystemProperties;->get(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v0
+
+    const-string v1, "nian_"
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->endsWith(Ljava/lang/String;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_dd0
+
     invoke-direct {p0}, Lmiui/external/Application;-><init>()V
 
+    :cond_dd0
+
     return-void
 .end method
 
-- 
1.7.10.4

